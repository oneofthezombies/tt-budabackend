data_movement_wormhole_b0_multichip_push:
  build_on_runner: True
  tag: push
  num_eth_chips: 2
  harvested_rows_supported: 2
  num_pcie_chips: 1
  owner: ["rpavlovic", "mrakita", "derdeljan", "kmitrovic"]
  arch_name: wormhole_b0
  device_runner: Silicon
  test_flow: "./build/test/verif/netlist_tests/test_inference"
  build_cmd: [
    # Build.
    "make -j8 build_hw",
    "make -j8 verif/netlist_tests",

    # Copy netlists.
    "rm -rf build/test/verif/data_movement/push/wormhole_b0/multichip/",
    "mkdir -p build/test/verif/data_movement/push/wormhole_b0/multichip/",
    "cp -a verif/data_movement/push/wormhole_b0/multichip/. build/test/verif/data_movement/push/wormhole_b0/multichip/"
    ]
  build_timeout: "1250"
  timeout: "360"
  run_on_same_runner: True
  artifacts: []

  data_movement_ethernet_relay:
    command: ["--netlist", "build/test/verif/data_movement/push/wormhole_b0/multichip/netlist_100.yaml",  "--inputs", "q0", "--outputs", "output"]

  data_movement_fw_ethernet_relay:
    envs: {TT_ENABLE_FW_ETH_STREAMS: 1}
    command: ["--netlist", "build/test/verif/data_movement/push/wormhole_b0/multichip/netlist_200.yaml" , "--inputs", "past_value", "--outputs", "output"]